---
layout: post
title: "HC05蓝牙模块使用教程适用于两个蓝牙模块绑定"
date:   2023-04-17
tags: [蓝牙,从机,模块,绑定,主机]
comments: true
author: admin
---
# HC-05蓝牙模块使用教程（适用于两个蓝牙模块绑定）

本教程详细介绍了如何使用HC-05蓝牙模块进行主从机绑定，并通过串口助手进行数据传输。以下是具体步骤：

## 步骤说明

### 1. 设置主从角色
- **主机与从机**：两个蓝牙模块必须一个作为主机，另一个作为从机才能建立连接。上电后，从机一直处于接受状态，等待被连接。而主机则主动发出信号，寻找目标从机，前提是该目标从机的MAC地址事先被写入到主机的Flash芯片中储存。

### 2. 进入AT指令响应状态
- **进入AT模式**：蓝牙模块上电前一直按住Key按键不放，上电后松开，此时LED灯处于慢闪状态（每秒闪1次），提示已经进入AT指令响应状态，可以进行接收AT指令控制。

### 3. 查询与设置主从角色
- **查询角色**：PC端打开安可信串口助手（带AT指令），打开相应的串口，发送`AT+ROLE?`查询该模块的主从角色。如果返回`0`，则为从机；如果返回`1`，则为主机。
- **设置角色**：本例中，此模块（图中左边的HC-05模块）设为主机，则发送`AT+ROLE=1`，设为主机，成功返回`OK`。

### 4. 查询与记录MAC地址
- **查询MAC地址**：发送`AT+ADDR?`查询此模块的MAC地址，本例中为`98d3:33:80ebdf`，记下来稍后为从机的地址绑定用。同样的方法将另一个模块（图中右边的HC-05模块）设置为从机（`AT+ROLE=0`），并且查询到MAC地址为`98d3:36:aac2`。

### 5. 绑定MAC地址
- **主机绑定从机**：向主机串口中发送`AT+BIND=98d336aac2`绑定从机的MAC地址，成功则返回`OK`。发送`AT+CMODE=0`将主机设为指定蓝牙地址连接模式（即只允许主机向绑定好MAC地址的蓝牙从机设备发起连接）。
- **从机绑定主机**：同样地，向从机串口发送`AT+BIND=983d3380ebdf`绑定主机的MAC地址，成功则返回`OK`。发送`AT+CMODE=0`将从机也设为指定蓝牙地址连接模式（即只允许从机接受绑定好MAC地址的蓝牙主机设备发起的连接）。

### 6. 重新上电并配对
- **重新上电**：主从机均设置完毕后，松开Key键重新上电，LED都快闪（每秒闪2次），表明均处于等待配对状态。随后大约几秒钟后，LED闪烁频率发生变化（不确定），表明已经侦测到目标设备，正在建立连接。随后大约一秒钟，很快LED变成慢双闪状态（每2秒闪一次，每次连闪2下），提示已经配对成功，可以通过蓝牙协议传输数据了。

### 7. 测试通信
- **通信测试**：此时，在串口助手中发送一串字符，如果另一个蓝牙模块的串口助手里收到了同样的字符，且回送的字符，对方亦能收到，则通信成功。

## 注意事项
- 确保两个蓝牙模块的电源稳定，避免因电压波动导致模块工作异常。
- 在发送AT指令时，确保串口助手的波特率与蓝牙模块的波特率一致，通常为9600。
- 在绑定MAC地址时，确保输入的地址准确无误，否则可能导致绑定失败。

通过以上步骤，您可以成功实现两个HC-05蓝牙模块的主从机绑定，并进行数据传输。

## 下载链接

[HC-05蓝牙模块使用教程适用于两个蓝牙模块绑定](https://pan.quark.cn/s/57f1985a99ab)