---
layout: post
title: "Shiro框架漏洞分析与复现资源文件介绍"
date:   2021-11-13
tags: [Shiro,漏洞,序列化,框架,复现]
comments: true
author: admin
---
# Shiro框架漏洞分析与复现资源文件介绍

本资源文件提供了关于Apache Shiro框架漏洞的详细分析与复现指南。Shiro是一个开源的安全框架，广泛用于身份验证、授权、密码学和会话管理。然而，由于其某些版本中存在的安全漏洞，攻击者可能利用这些漏洞进行恶意操作。

## 内容概述

1. **Shiro简介**  
   Apache Shiro是一款开源安全框架，提供身份验证、授权、密码学和会话管理。Shiro框架直观、易用，同时也能提供健壮的安全性，可以快速轻松地保护任何应用程序——从最小的移动应用程序到最大的Web和企业应用程序。

2. **Shiro反序列化漏洞（CVE-2016-4437，Shiro-550）**  
   漏洞原理：Shiro框架在登录时，如果勾选了RememberMe的功能，关闭浏览器再次访问时便无需再次登录。此时cookie中会增加一个rememberMe字段，其value的值是经过序列化、AES加密和Base64编码后得到的结果。服务端在接收到一个Cookie时，会按照如下步骤进行解析处理：检索RememberMe Cookie的值、进行Base64解码、进行AES解码、进行反序列化操作。由于在第4步中的调用反序列化时未进行任何过滤，导致可以触发Java反序列化漏洞，进而在目标机器上执行任意命令。

3. **Shiro反序列化漏洞（CVE-2019-12422，Shiro721）**  
   漏洞原理：和上面的Shiro550差不多，只是Shiro721用到的加密方式是AES-CBC加密，其中AES加密的key基本猜不到了，是系统随机生成的。但是这种加密模式可以通过Padding Oracle Attack（Oracle填充攻击），攻击者可以使用有效的RememberMe Cookie作为Padding Oracle Attack的前缀，然后精心构造RememberMe Cookie来实施反序列化攻击。

4. **Shiro权限绕过漏洞（CVE-2020-1957）**  
   在Apache Shiro 1.5.2以前的版本中，在使用Spring动态控制器时，攻击者通过构造特定的跳转，可以绕过Shiro中对目录的权限限制。

## 使用说明

本资源文件包含了详细的漏洞分析、复现步骤以及相关工具的使用指南。适合安全研究人员、渗透测试人员以及对网络安全感兴趣的开发者学习和参考。

## 注意事项

在进行漏洞复现时，请确保在合法和授权的环境中进行，遵守相关法律法规，切勿用于非法用途。

---

通过本资源文件，您将能够深入了解Shiro框架的安全漏洞，并掌握相应的防护措施。希望本资源对您的学习和研究有所帮助。

## 下载链接

[Shiro框架漏洞分析与复现资源文件介绍](https://pan.quark.cn/s/59f436860d16)