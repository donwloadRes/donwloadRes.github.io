---
layout: post
title: "FreeRTOSSTM32F103通过DMA读取ADC数据用队列传输"
date:   2020-09-04
tags: [ADC,串口,队列,FreeRTOS,DMA]
comments: true
author: admin
---
# FreeRTOS+STM32F103通过DMA读取ADC数据，用队列传输

## 项目描述

本项目演示了如何在STM32F103单片机上采集6路ADC数据，并通过DMA读取到数组中。在FreeRTOS操作系统中，任务1负责通过队列传输采集到的数据，而任务2则负责从队列中读取ADC数据并通过串口打印出来。

## 功能特点

- **ADC数据采集**：使用STM32F103的ADC模块采集6路模拟信号。
- **DMA传输**：通过DMA（直接内存访问）将ADC数据读取到数组中，减少CPU的负担。
- **FreeRTOS任务管理**：在FreeRTOS操作系统中创建两个任务，分别负责数据传输和数据处理。
- **队列通信**：任务1将采集到的ADC数据通过队列传输给任务2。
- **串口打印**：任务2从队列中读取数据并通过串口打印出来，便于调试和观察。

## 使用说明

1. **硬件准备**：
   - STM32F103开发板
   - 6路模拟信号源（用于ADC输入）
   - USB转串口模块（用于串口打印）

2. **软件准备**：
   - STM32CubeMX（用于配置STM32外设）
   - Keil MDK（用于编译和下载程序）
   - FreeRTOS（集成在STM32CubeMX中）

3. **配置步骤**：
   - 使用STM32CubeMX配置ADC、DMA、串口等外设。
   - 配置FreeRTOS任务和队列。
   - 生成代码并导入到Keil MDK中。

4. **编译与下载**：
   - 在Keil MDK中编译项目。
   - 将生成的二进制文件下载到STM32F103开发板。

5. **运行与调试**：
   - 连接USB转串口模块，打开串口调试工具。
   - 运行程序，观察串口打印的ADC数据。

## 注意事项

- 确保ADC输入信号在STM32F103的电压范围内（0-3.3V）。
- 配置DMA时，注意数据传输的方向和缓冲区大小。
- 在FreeRTOS任务中，合理设置任务优先级和队列大小，避免数据丢失或任务阻塞。

## 贡献

欢迎提交问题和改进建议，帮助完善本项目。

## 许可证

本项目采用MIT许可证，详情请参阅LICENSE文件。

## 下载链接

[FreeRTOSSTM32F103通过DMA读取ADC数据用队列传输](https://pan.quark.cn/s/5a8290728982)