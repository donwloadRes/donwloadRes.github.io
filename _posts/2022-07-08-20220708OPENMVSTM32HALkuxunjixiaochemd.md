---
layout: post
title: "OPENMV＋STM32HAL库循迹小车"
date:   2020-06-14
tags: [小车,STM32,串口,OPENMV,循迹]
comments: true
author: admin
---
# OPENMV＋STM32HAL库循迹小车

## 项目介绍

本项目是大一暑假期间制作的一个循迹小车，主要使用了OPENMV摄像头模块和STM32微控制器，通过STM32HAL库进行硬件配置和控制。小车的核心功能是通过OPENMV摄像头获取色块坐标，并通过串口通信将数据传输给STM32，STM32对数据进行解析后控制小车的转向和速度。

## 项目特点

- **硬件配置**：使用STM32CUBEMX工具配置STM32的引脚、串口、定时器中断等硬件资源。
- **视觉识别**：通过OPENMV摄像头模块获取色块坐标，实现循迹功能。
- **串口通信**：使用串口通信将OPENMV获取的色块坐标数据传输给STM32。
- **阿克曼结构**：小车采用阿克曼结构设计，转向通过舵机实现。
- **PID控制**：后轮速度使用PID控制保持恒定，色块坐标与舵机转向之间采用PID控制，确保小车速度恒定且转向丝滑。
- **定时执行**：PID控制每10ms执行一次，确保控制的实时性和稳定性。

## 项目实现

1. **硬件准备**：
   - STM32微控制器
   - OPENMV摄像头模块
   - 舵机
   - 电机及驱动模块
   - 电源模块

2. **软件配置**：
   - 使用STM32CUBEMX配置STM32的引脚、串口、定时器中断等。
   - 编写OPENMV的色块识别程序，获取色块坐标并通过串口发送给STM32。
   - 在STM32上编写串口接收程序，解析接收到的色块坐标数据。
   - 实现PID控制算法，控制小车的速度和转向。

3. **调试与优化**：
   - 通过调整PID参数，优化小车的速度控制和转向性能。
   - 测试小车在不同环境下的循迹效果，确保系统的稳定性和可靠性。

## 项目总结

本项目通过结合OPENMV和STM32HAL库，实现了一个功能完善的循迹小车。通过视觉识别、串口通信和PID控制，小车能够稳定地进行循迹操作，并且在速度和转向控制上表现出色。该项目不仅锻炼了硬件和软件的综合应用能力，也为后续的智能小车开发提供了宝贵的经验。

## 下载链接

[OPENMVSTM32HAL库循迹小车](https://pan.quark.cn/s/9976ce584e4f)