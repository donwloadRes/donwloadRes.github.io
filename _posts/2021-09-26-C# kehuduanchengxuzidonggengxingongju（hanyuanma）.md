---
layout: post
title: "C# 客户端程序自动更新工具（含源码）"
date:   2021-05-11
tags: [自动更新,UpdateList,xml,客户端程序,服务器]
comments: true
author: admin
---
# C# 客户端程序自动更新工具（含源码）

## 简介

本资源提供了一个C#客户端程序自动更新工具的完整解决方案，包括源代码和已编译的可执行文件。该工具可以帮助你在发布新版本时，自动更新客户端程序，无需用户手动下载和安装。

## 功能特点

- **自动更新**：客户端程序能够自动检测并下载最新版本。
- **配置简单**：只需配置好Web服务器和更新文件列表，即可实现自动更新。
- **完全可用**：经过简化和测试，确保工具的稳定性和可用性。

## 使用步骤

### 1. 配置Web服务器

- 将更新文件托管在Web服务器上，例如IIS服务器。
- 确保服务器支持所需的文件下载类型，即MIME类型，以避免下载时出错。
- 假设下载地址为 `http://www.xxxxx.com`。

### 2. 生成更新文件列表

- 使用提供的 `AULWriter` 工具生成更新文件列表 `UpdateList.xml`。
- 将生成的 `UpdateList.xml` 文件放置在Web服务器的下载文件相同目录下。

### 3. 配置主程序

- 将 `autoupdate.exe` 和 `UpdateList.xml` 文件放置在主程序的目录下。
- 在主程序中调用 `autoupdate.exe` 文件，实现自动更新功能。

### 4. 发布更新

- 当你需要发布新版本时，只需更新Web服务器上的文件，并手动修改 `UpdateList.xml` 中的版本号。
- 例如，将Web服务器上的 `UpdateList.xml` 版本号修改为 `1.0.0.1`，客户端的 `UpdateList.xml` 版本号为 `1.0.0.0`，即可触发升级。

## 源代码

- 源代码包含在VS2010项目中，已编译文件可直接使用。
- 主要参考了 [https://www.cnblogs.com/xiaxiaolu/p/4367159.html](https://www.cnblogs.com/xiaxiaolu/p/4367159.html)，非常感谢原作者的贡献！

## TODO

- 生成 `UpdateList.xml` 的工具目前尚未实现自动更新版本号的功能（根据 `datetime` 和 `size` 判断），有兴趣的朋友可以继续完善。

## 更新日期

- 2018.1.22

---

希望这个工具能够帮助你简化客户端程序的更新流程，提升用户体验！

## 下载链接

[C客户端程序自动更新工具含源码](https://pan.quark.cn/s/7926042cca68)